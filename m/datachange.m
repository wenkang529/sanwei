% clc
% clear all
tic
% load('cc_60.mat');
xhlq=v3;
[h,l]=size(xhlq);
a=xhlq;

%?????? 4.5cm  ???????13.92cm
z=128;      %??????
c=215;      %????? 
pix=3872;    %??????  ????? ???????2593*3872
s=53;        %????????
d=14.5;        %???????????

t=c/z;      %????????x????????? 2*pi ??????
pixa=233/pix; %????????


for j=1:h
    for k=1:l
        cp(j,k)=s*a(j,k)/(2*pi*d/t+a(j,k));       
    end
end



for jj=1:h
    for kk=1:l
        m=l*(jj-1)+kk;
        aa(m,1)=jj*pixa;
        aa(m,2)=kk*pixa;
        aa(m,3)=cp(jj,kk);
    end
end

bb=aa';
savepcd('fname_-120.pcd', bb);
% 
% 
cc=bb(:,1:5:end);
savepcd('fname1_-120.pcd', cc);

toc


